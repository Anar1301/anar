<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
    <style>
      body {
        font-family: Arial, sans-serif;
        background: #121212;
        color: #fff;
        display: flex;
        justify-content: center;
        align-items: center;
        height: 100vh;
        margin: 0;
      }
      .stopwatch {
        background: #1e1e1e;
        padding: 20px;
        border-radius: 15px;
        box-shadow: 0 0 20px rgba(0, 255, 150, 0.5);
        text-align: center;
        width: 320px;
      }
      .time {
        font-size: 48px;
        margin-bottom: 20px;
      }
      button {
        padding: 8px 16px;
        margin: 5px;
        font-size: 16px;
        border: none;
        border-radius: 5px;
        cursor: pointer;
      }
      .start {
        background: #00ff99;
        color: #000;
      }
      .stop {
        background: #ff4444;
        color: #fff;
      }
      .reset {
        background: #888;
        color: #fff;
      }
      .lap {
        background: #3399ff;
        color: #fff;
      }
      button:hover {
        opacity: 0.8;
      }
      .laps {
        margin-top: 15px;
        text-align: left;
        max-width: 150px;
        overflow-y: auto;
        border-top: 1px solid #555;
        padding-top: 10px;
      }
      .lap-item {
        font-size: 14px;
        padding: 3px 0;
        border-bottom: 1px solid #333;
      }
    </style>
  </head>
  <body>
    <div class="stopwatch">
      <div class="time" id="display">00:00:000</div>
      <button class="start" onclick="start()">Start</button>
      <button class="stop" onclick="stop()">Stop</button>
      <button class="lap" onclick="lap()">Lap</button>
      <button class="reset" onclick="reset()">Reset</button>
      <div class="laps" id="laps"></div>
    </div>
    <script>
      let startTime = 0;
      let elapsedTime = 0;
      let timerInterval = 0;
      let lapCount = 0;

      function timeToString(time) {
        let diffInMin = Math.floor((time / 60000) % 60);
        let diffInSec = Math.floor((time / 1000) % 60);
        let diffInMs = Math.floor(time % 1000);

        let formattedMin = diffInMin.toString().padStart(2, "0");
        let formattedSec = diffInSec.toString().padStart(2, "0");
        let formattedMs = diffInMs.toString().padStart(2, "0");

        return `${formattedMin}:${formattedSec}:${formattedMs}`;
      }
      function start() {
        startTime = Date.now() - elapsedTime;
        timerInterval = setInterval(function printTime() {
          elapsedTime = Date.now() - startTime;
          document.getElementById("display").textContent =
            timeToString(elapsedTime);
        }, 10);
      }

      function stop() {
        clearInterval(timerInterval);
      }
      function reset() {
        clearInterval(timerInterval);
        document.getElementById("display").textContent = "00:00:000";
        elapsedTime = 0;
        lapCount = 0;
        document.getElementById("laps").innerHTML = "";
      }

      function lap() {
        lapCount++;
        let lapTime = timeToString(elapsedTime);
        let lapItem = document.createElement("div");
        lapItem.className = "lap-item";
        lapItem.textContent = `Lap ${lapCount}:${lapTime}`;
        document.getElementById("laps").appendChild(lapItem);
      }
    </script>
  </body>
</html>
